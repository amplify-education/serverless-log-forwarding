service: ${env:PLUGIN_IDENTIFIER}-single-producer-custom-permission-${env:RANDOM_STRING}

provider:
  lambdaHashingVersion: 20201221
  name: aws
  runtime: python3.8
  region: us-west-2
  stage: test
  role: arn:aws:iam::646102706174:role/envoy_admin_ui_role

package:
  exclude:
    - 'node_modules/**'

functions:
  logs-producer:
    handler: logs_producer.handler

plugins:
  - serverless-log-forwarding

custom:
  logForwarding:
    destinationARN: ${env:LOGS_RECEIVER_ARN}
    createLambdaPermission: false
